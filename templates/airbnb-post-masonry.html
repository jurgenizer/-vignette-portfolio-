{% extends "layout.html" %}
{% block title %}{{ this.title }} | Airbnb and other short-term rental property p{% endblock %}
{% block body %}
<link rel="stylesheet" href="{{ '/static/masonry.css'|url }}">
<!-- Thank you https://imagesloaded.desandro.com/-->
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>

<h1 class="title has-text-primary">{{ this.title }}</h1>

<div class="container">
  {{ this.body }}
  
  <div class="buttons mb-4">
    {% if this['link-1'] %}
    <a href="{{ this['link-1'] }}" class="button is-link" target="_blank" rel="noopener noreferrer">Listing One</a>
    {% endif %}
    
    {% if this['link-2'] %}
    <a href="{{ this['link-2'] }}" class="button is-link" target="_blank" rel="noopener noreferrer">Listing Two</a>
    {% endif %}
  </div>

  {% set images = this.attachments.images.all() %}
  {% if images %}
  <div class="wrapper">
    <div class="masonry">
      {% for image in images %}
      <div class="masonry-brick">
        <img src="{{ image|url }}" alt="Image of {{ this.title }}" class="masonry-img">
        <p class="top-left">{{ image.record_label }}</p>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

</div>

<section class="section">
  <div class="container">
    {% set siblings = this.get_siblings() %}
    {% set older = siblings.next_page %}
    {% set newer = siblings.prev_page %}

    <nav class="pagination is-small" role="navigation" aria-label="pagination">
      {% if older %}
      <a class="pagination-previous" href="{{ older|url }}">Previous: {{ older.title }}</a>
      {% endif %}
      {% if newer %}
      <a class="pagination-next" href="{{ newer|url }}">Next: {{ newer.title }}</a>
      {% endif %}
    </nav>
  </div>
</section>

<script src="{{ '/static/masonry.js'|url }}"></script>

{% endblock %}